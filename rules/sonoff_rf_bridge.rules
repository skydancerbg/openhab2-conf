
// RF PIR 1 CODE: D3C22E
// RF PIR 2 CODE: D511CE
// RF PIR 3 CODE: D5053E
// RF PIR 4 CODE: D48C4E
// RF PIR 5 CODE: D3426E

// String GF_Sonoff_RF_Received_RfKey
// https://community.openhab.org/t/openhab-2-4-tasmota-mqtt-json-on-rf-bridge-and-pir-motion-sensor/74248/13

rule "Sonof RF codes processing"
when
    Item GF_Sonoff_RF_Received_Data received update // Need received update if Data has not change but button still pressed
then
// logInfo("PIR_", "wleze................................")

    if (GF_Sonoff_RF_Received_Data.state == "D3C22E")
    {
        Sonoff_RF_PIR_1.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_1.postUpdate("")
        // logInfo("PIR_", GF_Sonoff_RF_Received_Data.state.toString)

    } else if (GF_Sonoff_RF_Received_Data.state == "D511CE")
  
    {
        Sonoff_RF_PIR_2.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_2.postUpdate("")


    } else if (GF_Sonoff_RF_Received_Data.state == "D5053E")
  
    {
        Sonoff_RF_PIR_3.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_3.postUpdate("")

    } else if (GF_Sonoff_RF_Received_Data.state == "D48C4E")
  
    {
        Sonoff_RF_PIR_4.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_4.postUpdate("")

    } else if (GF_Sonoff_RF_Received_Data.state == "D3426E")
  
    {
        Sonoff_RF_PIR_5.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_5.postUpdate("")

    // }

    // Бенковски трипозиционен RF ключ
// Liavo 0BE4E4
// Sreda 0BE4E2
// Diasno 0BE4E1

    // Benkovski RF 3 gang switch GANG 1
    } else if (GF_Sonoff_RF_Received_Data.state == "0BE4E4")
        {
            logInfo("benkovski", "poluchi koda")
            if (GF_TR_Sonoff_4CH_1_Power3.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(ON)
                                        logInfo("benkovski", "dade on - ON")
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power3.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(OFF)
                                      
                                    logInfo("benkovski", "prati - OFF")
                                    }
        

    // // Benkovski RF 3 gang switch GANG 2
    // // DA SE PROMENIIIIIIIIIIII
    } else if (GF_Sonoff_RF_Received_Data.state == "0BE4E2")
        {
            logInfo("benkovski", "poluchi koda")
            if (GF_TR_Sonoff_4CH_1_Power3.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(ON)
                                        logInfo("benkovski", "dade on - ON")
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power3.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(OFF)
                                      
                                    logInfo("benkovski", "prati - OFF")
                                    }
        

    // // Benkovski RF 3 button switch GANG 3
    // // BENKOVSKI ALL LIGHTS OFF - 3 BUTTON RF SWITCH 3-rd BUTTON
    } else if (GF_Sonoff_RF_Received_Data.state == "0BE4E1")
        {
            Gr_ALL_LIGHTS.sendCommand(OFF)
            logInfo("benkovski BUTON 3", "prati - Gr_ALL_LIGHTS OFF")
        }
    


end
