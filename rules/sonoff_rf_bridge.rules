
// RF PIR 1 CODE: D3C22E    ОФИС
// RF PIR 2 CODE: D511CE    РАБОТИЛНИЦА
// RF PIR 3 CODE: D5053E    ХОЛ
// RF PIR 4 CODE: D48C4E    ГАРАЖ
// RF PIR 5 CODE: D3426E    КОРИДОР ЕТ. 1

// String GF_Sonoff_RF_Received_RfKey
// https://community.openhab.org/t/openhab-2-4-tasmota-mqtt-json-on-rf-bridge-and-pir-motion-sensor/74248/13

rule "Sonof RF codes processing"
when
    Item GF_Sonoff_RF_Received_Data received update // Need received update if Data has not change but button still pressed
then
// logInfo("PIR_", "wleze................................")

    if (GF_Sonoff_RF_Received_Data.state == "D3C22E")
    {
        Sonoff_RF_PIR_1.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_1.postUpdate("")
        // logInfo("PIR_", GF_Sonoff_RF_Received_Data.state.toString)

    } else if (GF_Sonoff_RF_Received_Data.state == "D511CE")
  
    {
        Sonoff_RF_PIR_2.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_2.postUpdate("")


    } else if (GF_Sonoff_RF_Received_Data.state == "D5053E")
  
    {
        Sonoff_RF_PIR_3.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_3.postUpdate("")

    } else if (GF_Sonoff_RF_Received_Data.state == "D48C4E")
  
    {
        Sonoff_RF_PIR_4.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_4.postUpdate("")

    } else if (GF_Sonoff_RF_Received_Data.state == "D3426E")
  
    {
        Sonoff_RF_PIR_5.postUpdate("DETECT")
        Thread::sleep(5000)
        Sonoff_RF_PIR_5.postUpdate("")

    // }

    // Бенковски трипозиционен RF ключ
// Liavo 0BE4E4
// Sreda 0BE4E2
// Diasno 0BE4E1

    // Benkovski RF 3 gang switch GANG 1
    } else if (GF_Sonoff_RF_Received_Data.state == "0BE4E4")
        {
            logInfo("benkovski", "poluchi koda")
            if (GF_TR_Sonoff_4CH_1_Power3.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(ON)
                                        logInfo("benkovski", "dade on - ON")
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power3.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(OFF)
                                      
                                    logInfo("benkovski", "prati - OFF")
                                    }
        

    // // Benkovski RF 3 gang switch GANG 2
    // // DA SE PROMENIIIIIIIIIIII
    } else if (GF_Sonoff_RF_Received_Data.state == "0BE4E2")
        {
            logInfo("benkovski", "poluchi koda")
            if (GF_TR_Sonoff_4CH_1_Power3.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(ON)
                                        logInfo("benkovski", "dade on - ON")
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power3.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(OFF)
                                      
                                    logInfo("benkovski", "prati - OFF")
                                    }
        

    // // Benkovski RF 3 button switch GANG 3
    // // BENKOVSKI ALL LIGHTS OFF - 3 BUTTON RF SWITCH 3-rd BUTTON
    } else if (GF_Sonoff_RF_Received_Data.state == "0BE4E1")
        {
            Gr_ALL_LIGHTS.sendCommand(OFF)
            logInfo("benkovski BUTON 3", "prati - Gr_ALL_LIGHTS OFF")
        

    // // Benkovski RF 1 gang switch BATHROOM КЛЮЧ ТОАЛЕТНА
   
    } else if (GF_Sonoff_RF_Received_Data.state == "079EA2")
        {
            logInfo("BATHROOM", "poluchi koda")
            if (GF_TR_Sonoff_4CH_1_Power2.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power2.sendCommand(ON)
                                        logInfo("BATHROOM", "dade on - ON")
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power2.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power2.sendCommand(OFF)
                                      
                                    logInfo("BATHROOM", "prati - OFF")
                                    }


        
// // // // // // // // // // // // // // // // // // // // // // /
    // // Benkovski RF Дистанционно 1 (сребристо)

// Keychain remote 1
//A // 04FBA1
//B // 04FBA2
//C // 04FBA4
//D // 04FBA8    
    // // A включва осветление работилница
    } else if (GF_Sonoff_RF_Received_Data.state == "04FBA1")
        {
            if (GF_TR_Sonoff_4CH_1_Power3.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(ON)
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power3.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power3.sendCommand(OFF)
                                    }
    // // B включва осветление офис 

    } else if (GF_Sonoff_RF_Received_Data.state == "04FBA2")
        {
            if (GF_TR_Sonoff_4CH_1_Power1.state == OFF)  
                                    { 
                                        GF_TR_Sonoff_4CH_1_Power1.sendCommand(ON)
                                    }
    
            else if ( GF_TR_Sonoff_4CH_1_Power1.state == ON) 
                                    {
                                        GF_TR_Sonoff_4CH_1_Power1.sendCommand(OFF)
                                    }

    // // C включва осветление гараж 

    } else if (GF_Sonoff_RF_Received_Data.state == "04FBA4")
        {
            if (GF_Sonoff_TH16_4_Power.state == OFF)  
                                    { 
                                        GF_Sonoff_TH16_4_Power.sendCommand(ON)
                                    }
    
            else if ( GF_Sonoff_TH16_4_Power.state == ON) 
                                    {
                                        GF_Sonoff_TH16_4_Power.sendCommand(OFF)
                                    }
        

    // // D извключва цялото осветление 
    // // BENKOVSKI ALL LIGHTS OFF
    } else if (GF_Sonoff_RF_Received_Data.state == "04FBA8")
        {
            Gr_ALL_LIGHTS.sendCommand(OFF)
            logInfo("benkovski BUTON 3", "prati - Gr_ALL_LIGHTS OFF")
        


        }
    


end

// Keychain remote 1
// 04FBA1
// 04FBA2
// 04FBA4
// 04FBA8

// Keychain remote 2 /blue
// 214AC4
// 214AC8
// 214AC1
// 214AC2

// 8 channel RF remote 1
// 627E68
// 627E64
// 627E62
// 627E61

// 627E6C
// 627E69
// 627E65
// 627E63

// 8 channel RF remote 2
// 93A2A8
// 93A2A4
// 93A2A2
// 93A2A1

// 93A2AC
// 93A2A9
// B3A2A5
// 93A2A3



